<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="service-name" content="teeth-whitening">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Teeth Whitening - Brilliant Results Guaranteed | DentalCare Excellence</title>
    <meta name="description" content="Professional teeth whitening with guaranteed results. Interactive smile simulator, celebrity-white results, in-office and at-home options. Book your free consultation.">
    <meta name="keywords" content="teeth whitening, professional whitening, smile brightening, cosmetic dentistry, dental bleaching">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://dentalcareexcellence.com/teeth-whitening">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23ffffff' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E" as="image">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --trust-blue: #0077BE;
            --clean-white: #FFFFFF;
            --accent-teal: #00A8A8;
            --soft-gray: #F5F5F5;
            --charcoal: #333333;
            --success-green: #28A745;
            --gold: #FFD700;
            --light-yellow: #FFF9E6;
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --shadow-soft: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-medium: 0 8px 24px rgba(0,0,0,0.12);
            --border-radius: 8px;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--charcoal);
            background-color: var(--clean-white);
            font-display: swap;
        }
        
        .container {
            max-width: min(1200px, 95vw);
            margin: 0 auto;
            padding: 0 clamp(1rem, 3vw, 2rem);
        }
        
        header {
            background: var(--clean-white);
            box-shadow: var(--shadow-soft);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }
        
        .logo {
            font-size: clamp(1.25rem, 3vw, 1.5rem);
            font-weight: 700;
            color: var(--trust-blue);
        }
        
        .hero {
            background: linear-gradient(135deg, var(--accent-teal) 0%, var(--trust-blue) 100%);
            color: var(--clean-white);
            padding: clamp(3rem, 8vw, 5rem) 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255,255,255,0.12) 0%, transparent 50%);
            animation: sparkle 25s linear infinite;
            will-change: transform;
        }
        
        @keyframes sparkle {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        .hero h1 {
            font-size: clamp(2rem, 5vw, 2.5rem);
            margin-bottom: 1rem;
            font-weight: 700;
            position: relative;
            z-index: 1;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: clamp(1.1rem, 3vw, 1.25rem);
            margin-bottom: 2rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .cta-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--success-green);
            color: var(--clean-white);
            padding: clamp(0.75rem, 2vw, 1rem) clamp(1.5rem, 4vw, 2rem);
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition-smooth);
            box-shadow: var(--shadow-medium);
            cursor: pointer;
            border: none;
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            position: relative;
            z-index: 1;
            min-width: 44px;
            min-height: 44px;
        }
        
        .cta-button:hover, .cta-button:focus {
            background: #239a3b;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3);
        }
        
        .cta-button:focus-visible {
            outline: 2px solid var(--clean-white);
            outline-offset: 2px;
        }
        
        .section {
            padding: clamp(3rem, 8vw, 4rem) 0;
        }
        
        .section-alt {
            background: var(--soft-gray);
        }
        
        h2 {
            font-size: clamp(1.75rem, 4vw, 2rem);
            color: var(--trust-blue);
            margin-bottom: 2rem;
            text-align: center;
            line-height: 1.3;
        }
        
        /* Enhanced Smile Simulator with accessibility */
        .smile-simulator {
            background: var(--clean-white);
            padding: clamp(2rem, 5vw, 3rem);
            border-radius: 16px;
            box-shadow: var(--shadow-medium);
            margin: 2rem 0;
        }
        
        .simulator-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: clamp(2rem, 5vw, 3rem);
            align-items: center;
        }
        
        .smile-preview {
            position: relative;
            background: linear-gradient(135deg, var(--soft-gray) 0%, #e8f4f8 100%);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            border: 2px solid rgba(0, 168, 168, 0.1);
        }
        
        .teeth-display {
            display: flex;
            justify-content: center;
            gap: 3px;
            margin: 2rem 0;
            flex-wrap: wrap;
        }
        
        .tooth {
            width: clamp(25px, 5vw, 30px);
            height: clamp(35px, 6vw, 40px);
            border-radius: 30% 30% 50% 50%;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .tooth:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .tooth::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(255,255,255,0.4) 0%, transparent 50%);
            border-radius: inherit;
            pointer-events: none;
        }
        
        .shade-controls {
            background: var(--soft-gray);
            padding: 2rem;
            border-radius: 12px;
            border: 2px solid rgba(0, 119, 190, 0.1);
        }
        
        .shade-slider {
            margin: 2rem 0;
        }
        
        .shade-slider label {
            display: block;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--trust-blue);
            font-size: 1.1rem;
        }
        
        .slider {
            width: 100%;
            -webkit-appearance: none;
            height: 12px;
            border-radius: 6px;
            background: linear-gradient(to right, #d4bc84 0%, #f8f4e6 100%);
            outline: none;
            margin: 1rem 0;
            cursor: pointer;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--accent-teal);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            transition: var(--transition-smooth);
        }
        
        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            background: var(--trust-blue);
        }
        
        .slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--accent-teal);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        
        .shade-result {
            background: var(--light-yellow);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            text-align: center;
            border-left: 4px solid var(--gold);
        }
        
        /* Enhanced Before/After Gallery */
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(350px, 100%), 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .before-after-card {
            background: var(--clean-white);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow-medium);
            transition: var(--transition-smooth);
        }
        
        .before-after-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 32px rgba(0,0,0,0.15);
        }
        
        .ba-comparison {
            position: relative;
            height: 300px;
            overflow: hidden;
            cursor: ew-resize;
        }
        
        .ba-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .ba-slider-container {
            position: absolute;
            top: 0;
            left: 50%;
            width: 100%;
            height: 100%;
            overflow: hidden;
            transition: left 0.1s ease;
        }
        
        .ba-handle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: var(--accent-teal);
            cursor: ew-resize;
            transform: translateX(-50%);
            z-index: 10;
        }
        
        .ba-handle::before {
            content: "↔";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-teal);
            color: var(--clean-white);
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            box-shadow: var(--shadow-medium);
            font-size: 1.2rem;
        }
        
        .ba-info {
            padding: 1.5rem;
            text-align: center;
        }
        
        .ba-info h4 {
            color: var(--trust-blue);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        .shade-improvement {
            display: inline-block;
            background: linear-gradient(135deg, var(--success-green) 0%, #1e7e34 100%);
            color: var(--clean-white);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }
        
        /* Enhanced Comparison Tool */
        .comparison-tool {
            background: var(--clean-white);
            padding: clamp(2rem, 5vw, 3rem);
            border-radius: 16px;
            box-shadow: var(--shadow-medium);
            margin: 2rem 0;
        }
        
        .comparison-header {
            display: flex;
            justify-content: space-around;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .comparison-option {
            flex: 1;
            text-align: center;
            padding: 1.5rem 1rem;
            background: var(--soft-gray);
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition-smooth);
            min-width: 150px;
            border: 2px solid transparent;
            min-height: 44px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .comparison-option:hover, .comparison-option:focus {
            transform: translateY(-4px);
            box-shadow: var(--shadow-medium);
            border-color: var(--accent-teal);
        }
        
        .comparison-option:focus-visible {
            outline: 2px solid var(--trust-blue);
            outline-offset: 2px;
        }
        
        .comparison-option.active {
            background: var(--trust-blue);
            color: var(--clean-white);
            transform: translateY(-4px);
            border-color: var(--accent-teal);
        }
        
        .comparison-details {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .comparison-details.show {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .comparison-details h3 {
            color: var(--trust-blue);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .comparison-feature {
            padding: 1rem;
            background: var(--soft-gray);
            border-radius: 8px;
        }
        
        .comparison-feature h4 {
            color: var(--trust-blue);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Enhanced Special Offer */
        .special-offer-banner {
            background: linear-gradient(135deg, var(--success-green) 0%, #1e7e34 100%);
            color: var(--clean-white);
            padding: clamp(2rem, 5vw, 3rem);
            border-radius: 16px;
            text-align: center;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }
        
        .special-offer-banner::before {
            content: "";
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 50%);
            animation: rotate 30s linear infinite;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .offer-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: #ff6b6b;
            color: var(--clean-white);
            padding: 0.5rem 3rem;
            transform: rotate(45deg);
            font-weight: 700;
            font-size: 0.8rem;
            box-shadow: var(--shadow-medium);
            z-index: 1;
        }
        
        .offer-timer {
            display: flex;
            justify-content: center;
            gap: clamp(1rem, 3vw, 2rem);
            margin: 2rem 0;
            position: relative;
            z-index: 1;
            flex-wrap: wrap;
        }
        
        .timer-unit {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: clamp(1rem, 3vw, 1.5rem);
            border-radius: 12px;
            min-width: clamp(80px, 20vw, 100px);
            transition: var(--transition-smooth);
        }
        
        .timer-unit:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.3);
        }
        
        .timer-number {
            font-size: clamp(2rem, 5vw, 2.5rem);
            font-weight: 700;
            display: block;
            line-height: 1;
        }
        
        .timer-label {
            font-size: clamp(0.8rem, 2vw, 0.9rem);
            opacity: 0.9;
            margin-top: 0.25rem;
        }
        
        .package-calculator {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 12px;
            margin-top: 2rem;
            position: relative;
            z-index: 1;
        }
        
        .package-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .package-option {
            background: rgba(255,255,255,0.2);
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition-smooth);
            text-align: center;
            border: 2px solid transparent;
            min-height: 44px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .package-option:hover, .package-option:focus {
            background: rgba(255,255,255,0.3);
            transform: translateY(-3px);
            border-color: var(--gold);
        }
        
        .package-option:focus-visible {
            outline: 2px solid var(--clean-white);
            outline-offset: 2px;
        }
        
        .package-option.selected {
            background: var(--clean-white);
            color: var(--success-green);
            border-color: var(--gold);
        }
        
        /* Celebrity Comparison Enhancement */
        .celebrity-comparison {
            background: var(--clean-white);
            padding: clamp(2rem, 5vw, 3rem);
            border-radius: 16px;
            box-shadow: var(--shadow-medium);
            margin: 2rem 0;
        }
        
        .celebrity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .celebrity-option {
            text-align: center;
            cursor: pointer;
            transition: var(--transition-smooth);
            padding: 1rem;
            border-radius: 12px;
            border: 2px solid transparent;
            min-height: 44px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .celebrity-option:hover, .celebrity-option:focus {
            transform: translateY(-4px);
            background: var(--soft-gray);
            border-color: var(--accent-teal);
        }
        
        .celebrity-option:focus-visible {
            outline: 2px solid var(--trust-blue);
            outline-offset: 2px;
        }
        
        .celebrity-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--soft-gray) 0%, #e8f4f8 100%);
            margin: 0 auto 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            transition: var(--transition-smooth);
            border: 3px solid transparent;
        }
        
        .celebrity-option.selected .celebrity-avatar {
            border-color: var(--trust-blue);
            transform: scale(1.1);
            box-shadow: var(--shadow-medium);
        }
        
        .celebrity-option.selected {
            background: rgba(0, 119, 190, 0.1);
            border-color: var(--trust-blue);
        }
        
        .comparison-result {
            background: linear-gradient(135deg, var(--soft-gray) 0%, #e8f4f8 100%);
            padding: 2rem;
            border-radius: 12px;
            display: none;
            border-left: 4px solid var(--accent-teal);
        }
        
        .comparison-result.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Maintenance Calculator Enhancement */
        .maintenance-calculator {
            background: var(--clean-white);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow-soft);
            margin: 2rem 0;
            border: 1px solid rgba(0, 119, 190, 0.1);
        }
        
        .calc-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .calc-input {
            display: flex;
            flex-direction: column;
        }
        
        .calc-input label {
            font-weight: 600;
            color: var(--trust-blue);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .calc-input select {
            padding: 0.75rem;
            border: 2px solid var(--soft-gray);
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition-smooth);
            background: var(--clean-white);
            min-height: 44px;
        }
        
        .calc-input select:focus {
            outline: none;
            border-color: var(--trust-blue);
            box-shadow: 0 0 0 3px rgba(0, 119, 190, 0.1);
        }
        
        .calc-result {
            background: linear-gradient(135deg, var(--soft-gray) 0%, #e8f4f8 100%);
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            border-left: 4px solid var(--accent-teal);
        }
        
        .calc-result h3 {
            color: var(--trust-blue);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        .maintenance-schedule {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .schedule-item {
            background: var(--clean-white);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: var(--shadow-soft);
            transition: var(--transition-smooth);
        }
        
        .schedule-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }
        
        .schedule-item h4 {
            color: var(--trust-blue);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        /* Referral Program Enhancement */
        .referral-rewards {
            background: linear-gradient(135deg, var(--trust-blue) 0%, var(--accent-teal) 100%);
            color: var(--clean-white);
            padding: clamp(2rem, 5vw, 3rem);
            border-radius: 16px;
            margin: 2rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .referral-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .referral-step {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 12px;
            transition: var(--transition-smooth);
        }
        
        .referral-step:hover {
            transform: translateY(-4px);
            background: rgba(255,255,255,0.2);
        }
        
        .step-number {
            width: 60px;
            height: 60px;
            background: var(--clean-white);
            color: var(--trust-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 auto 1rem;
            box-shadow: var(--shadow-soft);
        }
        
        footer {
            background: var(--charcoal);
            color: var(--clean-white);
            padding: 2rem 0;
            text-align: center;
        }
        
        /* Accessibility improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --trust-blue: #0066CC;
                --accent-teal: #008888;
                --success-green: #006600;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Responsive optimizations */
        @media (max-width: 768px) {
            .simulator-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .offer-timer {
                gap: 1rem;
            }
            
            .timer-unit {
                min-width: 70px;
                padding: 1rem;
            }
            
            .gallery-container {
                grid-template-columns: 1fr;
            }
            
            .celebrity-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .celebrity-avatar {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .comparison-header {
                flex-direction: column;
            }
            
            .package-options {
                grid-template-columns: 1fr;
            }
            
            .celebrity-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="container" role="navigation" aria-label="Main navigation">
            <div class="logo" role="img" aria-label="DentalCare Excellence">DentalCare Excellence</div>
            <a href="#consultation" class="cta-button" aria-label="Book free consultation">
                Free Consultation
            </a>
        </nav>
    </header>
    
    <main>
        <section class="hero" role="banner">
            <div class="container">
                <h1>Brilliant White Smiles Start Here</h1>
                <p>Professional teeth whitening with guaranteed results you can see in just one visit</p>
                <a href="#special-offer" class="cta-button" aria-describedby="offer-description">
                    See Special Offer
                </a>
                <div id="offer-description" class="sr-only">
                    View our limited-time teeth whitening special offer with significant savings
                </div>
            </div>
        </section>
        
        <section class="section" role="region" aria-labelledby="simulator-heading">
            <div class="container">
                <h2 id="simulator-heading">Interactive Smile Simulator</h2>
                <div class="smile-simulator">
                    <div class="simulator-container">
                        <div class="smile-preview">
                            <h3 style="color: var(--trust-blue); margin-bottom: 1rem;">Your Smile Preview</h3>
                            <div class="teeth-display" id="teethDisplay" role="img" aria-labelledby="teeth-description">
                                <div class="tooth" style="background: #d4bc84;" aria-hidden="true"></div>
                                <div class="tooth" style="background: #d4bc84;" aria-hidden="true"></div>
                                <div class="tooth" style="background: #dcc896;" aria-hidden="true"></div>
                                <div class="tooth" style="background: #dcc896;" aria-hidden="true"></div>
                                <div class="tooth" style="background: #dcc896;" aria-hidden="true"></div>
                                <div class="tooth" style="background: #d4bc84;" aria-hidden="true"></div>
                                <div class="tooth" style="background: #d4bc84;" aria-hidden="true"></div>
                            </div>
                            <p id="teeth-description">Visual representation of your teeth showing current and potential whiteness levels</p>
                            <p style="margin-top: 1rem; font-size: 0.9rem; color: #666;">
                                Use the slider to see your whitening potential!
                            </p>
                        </div>
                        
                        <div class="shade-controls">
                            <h3 style="color: var(--trust-blue); margin-bottom: 1rem;">Whitening Simulator</h3>
                            
                            <div class="shade-slider">
                                <label for="whiteningSlider">
                                    Whitening Level: <span id="shadeLevel" aria-live="polite">0</span> shades whiter
                                </label>
                                <input 
                                    type="range" 
                                    class="slider" 
                                    id="whiteningSlider" 
                                    min="0" 
                                    max="8" 
                                    value="0" 
                                    oninput="updateSmilePreview(this.value)"
                                    aria-describedby="slider-help"
                                >
                                <div id="slider-help" class="sr-only">
                                    Slide to preview different levels of teeth whitening from 0 to 8 shades whiter
                                </div>
                            </div>
                            
                            <div class="shade-result">
                                <h4>Expected Results</h4>
                                <p id="expectedResult" aria-live="polite">Move the slider to see your potential!</p>
                            </div>
                            
                            <button class="cta-button" style="width: 100%; margin-top: 1rem;" onclick="bookConsultation()" aria-describedby="booking-help">
                                Book Your Whitening Session
                            </button>
                            <div id="booking-help" class="sr-only">
                                Schedule your professional whitening appointment based on your simulation results
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="section section-alt" role="region" aria-labelledby="results-heading">
            <div class="container">
                <h2 id="results-heading">Real Results Gallery</h2>
                <p style="text-align: center; margin-bottom: 2rem;">Interactive before and after comparisons - drag to reveal transformation</p>
                
                <div class="gallery-container">
                    <article class="before-after-card">
                        <div class="ba-comparison" id="ba1" role="img" aria-labelledby="ba1-title">
                            <img class="ba-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23d4bc84' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='24' fill='%23fff'%3EBefore%3C/text%3E%3C/svg%3E" alt="Before whitening treatment showing yellowed teeth">
                            <div class="ba-slider-container" style="left: 50%;">
                                <img class="ba-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23f8f4e6' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='24' fill='%23333'%3EAfter%3C/text%3E%3C/svg%3E" alt="After whitening treatment showing bright white teeth">
                            </div>
                            <div class="ba-handle" onmousedown="initSlider(event, 'ba1')" tabindex="0" role="slider" aria-label="Drag to compare before and after" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50"></div>
                        </div>
                        <div class="ba-info">
                            <h4 id="ba1-title">Sarah M. - Professional Whitening</h4>
                            <p>In-office treatment, single session</p>
                            <div class="shade-improvement">6 Shades Whiter</div>
                        </div>
                    </article>
                    
                    <article class="before-after-card">
                        <div class="ba-comparison" id="ba2" role="img" aria-labelledby="ba2-title">
                            <img class="ba-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23ccb070' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='24' fill='%23fff'%3EBefore%3C/text%3E%3C/svg%3E" alt="Before at-home whitening treatment">
                            <div class="ba-slider-container" style="left: 50%;">
                                <img class="ba-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23f5edd6' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='24' fill='%23333'%3EAfter%3C/text%3E%3C/svg%3E" alt="After at-home whitening treatment">
                            </div>
                            <div class="ba-handle" onmousedown="initSlider(event, 'ba2')" tabindex="0" role="slider" aria-label="Drag to compare before and after" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50"></div>
                        </div>
                        <div class="ba-info">
                            <h4 id="ba2-title">Michael R. - At-Home Kit</h4>
                            <p>Professional grade, 2 weeks</p>
                            <div class="shade-improvement">5 Shades Whiter</div>
                        </div>
                    </article>
                    
                    <article class="before-after-card">
                        <div class="ba-comparison" id="ba3" role="img" aria-labelledby="ba3-title">
                            <img class="ba-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23c4a45c' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='24' fill='%23fff'%3EBefore%3C/text%3E%3C/svg%3E" alt="Before combination whitening treatment">
                            <div class="ba-slider-container" style="left: 50%;">
                                <img class="ba-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23f8f4e6' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='24' fill='%23333'%3EAfter%3C/text%3E%3C/svg%3E" alt="After combination whitening treatment">
                            </div>
                            <div class="ba-handle" onmousedown="initSlider(event, 'ba3')" tabindex="0" role="slider" aria-label="Drag to compare before and after" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50"></div>
                        </div>
                        <div class="ba-info">
                            <h4 id="ba3-title">Jennifer L. - Combination Treatment</h4>
                            <p>In-office + maintenance kit</p>
                            <div class="shade-improvement">8 Shades Whiter</div>
                        </div>
                    </article>
                </div>
            </div>
        </section>
        
        <section class="section" role="region" aria-labelledby="comparison-heading">
            <div class="container">
                <h2 id="comparison-heading">Whitening Options Comparison Tool</h2>
                <div class="comparison-tool">
                    <div class="comparison-header" role="tablist" aria-labelledby="comparison-heading">
                        <button class="comparison-option active" onclick="showComparison('office')" role="tab" aria-selected="true" aria-controls="office-details">
                            <h4>In-Office</h4>
                            <p>60 minutes</p>
                        </button>
                        <button class="comparison-option" onclick="showComparison('home')" role="tab" aria-selected="false" aria-controls="home-details">
                            <h4>At-Home</h4>
                            <p>2-4 weeks</p>
                        </button>
                        <button class="comparison-option" onclick="showComparison('combo')" role="tab" aria-selected="false" aria-controls="combo-details">
                            <h4>Combination</h4>
                            <p>Best results</p>
                        </button>
                        <button class="comparison-option" onclick="showComparison('maintenance')" role="tab" aria-selected="false" aria-controls="maintenance-details">
                            <h4>Maintenance</h4>
                            <p>Long-lasting</p>
                        </button>
                    </div>
                    
                    <div class="comparison-details show" id="office-details" role="tabpanel" aria-labelledby="office-tab">
                        <h3>Professional In-Office Whitening</h3>
                        <div class="comparison-grid">
                            <div class="comparison-feature">
                                <h4>✨ Results</h4>
                                <p>Up to 8 shades whiter in one visit</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>⏱️ Time</h4>
                                <p>60-90 minutes total</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>💰 Investment</h4>
                                <p>$399 (reg. $599)</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>🛡️ Duration</h4>
                                <p>1-3 years with care</p>
                            </div>
                        </div>
                        <button class="cta-button" style="margin-top: 1.5rem;" onclick="alert('Booking in-office treatment')">Book In-Office Treatment</button>
                    </div>
                    
                    <div class="comparison-details" id="home-details" role="tabpanel" aria-labelledby="home-tab">
                        <h3>Professional At-Home Kit</h3>
                        <div class="comparison-grid">
                            <div class="comparison-feature">
                                <h4>✨ Results</h4>
                                <p>4-6 shades whiter gradually</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>⏱️ Time</h4>
                                <p>2-4 weeks, 30 min/day</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>💰 Investment</h4>
                                <p>$249 (reg. $399)</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>🛡️ Duration</h4>
                                <p>1-2 years with care</p>
                            </div>
                        </div>
                        <button class="cta-button" style="margin-top: 1.5rem;" onclick="alert('Ordering at-home kit')">Order At-Home Kit</button>
                    </div>
                    
                    <div class="comparison-details" id="combo-details" role="tabpanel" aria-labelledby="combo-tab">
                        <h3>Combination Package</h3>
                        <div class="comparison-grid">
                            <div class="comparison-feature">
                                <h4>✨ Results</h4>
                                <p>Maximum whitening potential</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>⏱️ Time</h4>
                                <p>Immediate + gradual enhancement</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>💰 Investment</h4>
                                <p>$549 (save $99)</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>🛡️ Duration</h4>
                                <p>2-4 years with care</p>
                            </div>
                        </div>
                        <button class="cta-button" style="margin-top: 1.5rem;" onclick="alert('Getting combination package')">Get Combination Package</button>
                    </div>
                    
                    <div class="comparison-details" id="maintenance-details" role="tabpanel" aria-labelledby="maintenance-tab">
                        <h3>Maintenance Program</h3>
                        <div class="comparison-grid">
                            <div class="comparison-feature">
                                <h4>✨ Results</h4>
                                <p>Maintain your white smile permanently</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>⏱️ Time</h4>
                                <p>Monthly 15-minute touch-ups</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>💰 Investment</h4>
                                <p>From $29/month</p>
                            </div>
                            <div class="comparison-feature">
                                <h4>🛡️ Duration</h4>
                                <p>Lifetime brilliance guarantee</p>
                            </div>
                        </div>
                        <button class="cta-button" style="margin-top: 1.5rem;" onclick="alert('Joining maintenance program')">Join Maintenance Program</button>
                    </div>
                </div>
            </div>
        </section>
        
        <div class="container" id="special-offer">
            <div class="special-offer-banner" role="region" aria-labelledby="special-offer-heading">
                <div class="offer-badge" aria-hidden="true">LIMITED TIME</div>
                <h2 id="special-offer-heading" style="color: var(--clean-white); font-size: clamp(2rem, 5vw, 2.5rem); margin-bottom: 1rem;">Spring Smile Special!</h2>
                <p style="font-size: clamp(1.1rem, 3vw, 1.2rem); margin-bottom: 1rem;">Save 40% on Professional Whitening + FREE Touch-Up Kit</p>
                
                <div class="offer-timer" id="offerTimer" aria-label="Offer expires in:">
                    <div class="timer-unit">
                        <span class="timer-number" id="days" aria-label="2 days">2</span>
                        <span class="timer-label">Days</span>
                    </div>
                    <div class="timer-unit">
                        <span class="timer-number" id="hours" aria-label="14 hours">14</span>
                        <span class="timer-label">Hours</span>
                    </div>
                    <div class="timer-unit">
                        <span class="timer-number" id="minutes" aria-label="32 minutes">32</span>
                        <span class="timer-label">Minutes</span>
                    </div>
                    <div class="timer-unit">
                        <span class="timer-number" id="seconds" aria-label="45 seconds">45</span>
                        <span class="timer-label">Seconds</span>
                    </div>
                </div>
                
                <div class="package-calculator">
                    <h3 style="margin-bottom: 1rem;">Build Your Package</h3>
                    <div class="package-options" role="radiogroup" aria-labelledby="package-heading">
                        <div class="package-option selected" onclick="selectPackage('basic', 399)" role="radio" aria-checked="true" tabindex="0">
                            <h4>Basic</h4>
                            <p>In-Office Only</p>
                            <p style="font-weight: 700;">$399</p>
                        </div>
                        <div class="package-option" onclick="selectPackage('plus', 549)" role="radio" aria-checked="false" tabindex="0">
                            <h4>Plus</h4>
                            <p>+ Home Kit</p>
                            <p style="font-weight: 700;">$549</p>
                        </div>
                        <div class="package-option" onclick="selectPackage('premium', 799)" role="radio" aria-checked="false" tabindex="0">
                            <h4>Premium</h4>
                            <p>+ 1 Year Care</p>
                            <p style="font-weight: 700;">$799</p>
                        </div>
                    </div>
                    <div id="packageTotal" style="margin-top: 1rem; font-size: 1.2rem;" aria-live="polite">
                        Total Savings: <span style="font-weight: 700;">$200</span>
                    </div>
                </div>
                
                <button class="cta-button" style="background: var(--clean-white); color: var(--success-green); font-size: clamp(1.1rem, 3vw, 1.2rem); padding: clamp(1rem, 3vw, 1.2rem) clamp(2rem, 5vw, 2.5rem); margin-top: 1rem;" onclick="alert('Claiming offer now')">
                    Claim Your Offer Now
                </button>
            </div>
        </div>
        
        <section class="section section-alt" role="region" aria-labelledby="celebrity-heading">
            <div class="container">
                <h2 id="celebrity-heading">Celebrity Smile Comparison</h2>
                <div class="celebrity-comparison">
                    <p style="text-align: center; margin-bottom: 2rem;">Select a celebrity smile style to see how you'd look with professional whitening!</p>
                    
                    <div class="celebrity-grid" role="group" aria-labelledby="celebrity-heading">
                        <button class="celebrity-option" onclick="selectCelebrity('julia')" aria-describedby="julia-desc">
                            <div class="celebrity-avatar" aria-hidden="true">👄</div>
                            <p>Julia Roberts</p>
                            <div id="julia-desc" class="sr-only">See how you'd look with Julia Roberts' signature bright smile</div>
                        </button>
                        <button class="celebrity-option" onclick="selectCelebrity('tom')" aria-describedby="tom-desc">
                            <div class="celebrity-avatar" aria-hidden="true">😎</div>
                            <p>Tom Cruise</p>
                            <div id="tom-desc" class="sr-only">Compare with Tom Cruise's perfect white smile</div>
                        </button>
                        <button class="celebrity-option" onclick="selectCelebrity('blake')" aria-describedby="blake-desc">
                            <div class="celebrity-avatar" aria-hidden="true">✨</div>
                            <p>Blake Lively</p>
                            <div id="blake-desc" class="sr-only">Match Blake Lively's natural Hollywood smile</div>
                        </button>
                        <button class="celebrity-option" onclick="selectCelebrity('george')" aria-describedby="george-desc">
                            <div class="celebrity-avatar" aria-hidden="true">🎬</div>
                            <p>George Clooney</p>
                            <div id="george-desc" class="sr-only">Achieve George Clooney's sophisticated white smile</div>
                        </button>
                        <button class="celebrity-option" onclick="selectCelebrity('margot')" aria-describedby="margot-desc">
                            <div class="celebrity-avatar" aria-hidden="true">🌟</div>
                            <p>Margot Robbie</p>
                            <div id="margot-desc" class="sr-only">Get Margot Robbie's radiant white smile</div>
                        </button>
                        <button class="celebrity-option" onclick="selectCelebrity('chris')" aria-describedby="chris-desc">
                            <div class="celebrity-avatar" aria-hidden="true">💪</div>
                            <p>Chris Hemsworth</p>
                            <div id="chris-desc" class="sr-only">Match Chris Hemsworth's hero-level bright smile</div>
                        </button>
                    </div>
                    
                    <div class="comparison-result" id="celebrityResult" role="region" aria-live="polite" aria-atomic="true">
                        <h3 style="color: var(--trust-blue); margin-bottom: 1rem;">Your Celebrity Smile Match</h3>
                        <p id="celebrityMessage"></p>
                        <button class="cta-button" style="margin-top: 1rem;" onclick="alert('Booking celebrity look treatment')">Get This Look</button>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="section section-alt" role="region" aria-labelledby="maintenance-heading">
            <div class="container">
                <h2 id="maintenance-heading">Maintenance Calculator</h2>
                <div class="maintenance-calculator">
                    <div class="calc-inputs">
                        <div class="calc-input">
                            <label for="lifestyle">Your Lifestyle</label>
                            <select id="lifestyle" onchange="calculateMaintenance()" aria-describedby="lifestyle-help">
                                <option value="low">Light coffee/tea drinker</option>
                                <option value="medium">Regular coffee/tea/wine</option>
                                <option value="high">Heavy staining foods/drinks</option>
                            </select>
                            <div id="lifestyle-help" class="sr-only">Choose based on your daily consumption of staining beverages</div>
                        </div>
                        <div class="calc-input">
                            <label for="whiteness">Desired Whiteness</label>
                            <select id="whiteness" onchange="calculateMaintenance()" aria-describedby="whiteness-help">
                                <option value="natural">Natural bright</option>
                                <option value="white">Hollywood white</option>
                                <option value="ultra">Ultra white</option>
                            </select>
                            <div id="whiteness-help" class="sr-only">Select your target level of whiteness</div>
                        </div>
                        <div class="calc-input">
                            <label for="treatment">Treatment Type</label>
                            <select id="treatment" onchange="calculateMaintenance()" aria-describedby="treatment-help">
                                <option value="office">In-office only</option>
                                <option value="home">At-home only</option>
                                <option value="combo">Combination</option>
                            </select>
                            <div id="treatment-help" class="sr-only">Choose your preferred whitening method</div>
                        </div>
                    </div>
                    
                    <div class="calc-result">
                        <h3>Your Personalized Maintenance Plan</h3>
                        <div class="maintenance-schedule" id="maintenanceSchedule">
                            <div class="schedule-item">
                                <h4>Touch-ups</h4>
                                <p id="touchupFreq">Every 6 months</p>
                            </div>
                            <div class="schedule-item">
                                <h4>Home Care</h4>
                                <p id="homeCare">Weekly treatment</p>
                            </div>
                            <div class="schedule-item">
                                <h4>Check-ups</h4>
                                <p id="checkupFreq">Every 3 months</p>
                            </div>
                            <div class="schedule-item">
                                <h4>Monthly Cost</h4>
                                <p id="monthlyCost" style="font-weight: 700; color: var(--trust-blue);">$29</p>
                            </div>
                        </div>
                        <button class="cta-button" style="margin-top: 1.5rem;" onclick="alert('Starting maintenance plan')">Start Maintenance Plan</button>
                    </div>
                </div>
            </div>
        </section>
        
        <div class="container">
            <div class="referral-rewards" role="region" aria-labelledby="referral-heading">
                <h2 id="referral-heading" style="color: var(--clean-white); font-size: clamp(1.75rem, 4vw, 2rem);">Refer a Friend, Both Save!</h2>
                <p style="font-size: clamp(1.1rem, 3vw, 1.2rem); margin-bottom: 2rem;">Share the gift of a brighter smile</p>
                
                <div class="referral-steps">
                    <div class="referral-step">
                        <div class="step-number" aria-hidden="true">1</div>
                        <h4>Share Your Code</h4>
                        <p>Get your unique referral code after treatment</p>
                    </div>
                    <div class="referral-step">
                        <div class="step-number" aria-hidden="true">2</div>
                        <h4>Friend Saves $50</h4>
                        <p>They get $50 off their first treatment</p>
                    </div>
                    <div class="referral-step">
                        <div class="step-number" aria-hidden="true">3</div>
                        <h4>You Earn $50</h4>
                        <p>Receive credit for whitening or maintenance</p>
                    </div>
                </div>
                
                <button class="cta-button" style="background: var(--clean-white); color: var(--trust-blue); margin-top: 2rem;" onclick="alert('Getting referral code')">
                    Get Your Referral Code
                </button>
            </div>
        </div>
        
        <section class="section" id="appointment" role="region" aria-labelledby="appointment-heading">
            <div class="container" style="text-align: center;">
                <h2 id="appointment-heading">Ready for Your Brightest Smile?</h2>
                <p style="font-size: clamp(1rem, 2.5vw, 1.1rem); margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                    Schedule your free consultation and shade assessment today. See results in just one visit!
                </p>
                <button class="cta-button" onclick="alert('Booking system would open here')" style="font-size: clamp(1rem, 2.5vw, 1.1rem);" aria-describedby="consultation-description">
                    Book Your Free Consultation
                </button>
                <div id="consultation-description" class="sr-only">
                    Opens our booking system to schedule your complimentary whitening consultation
                </div>
                <p style="margin-top: 1rem; color: #666;">
                    Or call: <a href="tel:1-800-DENTIST" style="color: var(--trust-blue); text-decoration: none;" aria-label="Call dental office">1-800-DENTIST</a>
                </p>
            </div>
        </section>
    </main>
    
    <footer role="contentinfo">
        <div class="container">
            <p>&copy; 2024 DentalCare Excellence. All rights reserved. | State-of-the-art technology meets compassionate care.</p>
        </div>
    </footer>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>

    <script>
        // Performance optimized JavaScript with debouncing
        const debounce = (func, wait) => {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        };

        // GA4 Event Tracking Helper
        function trackEvent(eventName, parameters = {}) {
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, {
                    'service_name': document.querySelector('meta[name="service-name"]')?.content || 'unknown',
                    ...parameters
                });
            }
        }

        // API Configuration
        const API_CONFIG = {
            bookAppointment: '/api/book-appointment',
            contact: '/api/contact',
            timeout: 10000
        };

        // Loading State Manager
        class LoadingStateManager {
            static setLoading(element, isLoading, loadingText = 'Loading...') {
                if (isLoading) {
                    element.dataset.originalText = element.textContent;
                    element.textContent = loadingText;
                    element.disabled = true;
                    element.classList.add('loading');
                } else {
                    element.textContent = element.dataset.originalText || element.textContent;
                    element.disabled = false;
                    element.classList.remove('loading');
                }
            }
        }

        // Enhanced Form Submission with API integration
        async function submitAppointment(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            const button = form.querySelector('button[type="submit"]');
            const serviceName = document.querySelector('meta[name="service-name"]')?.content || 'unknown';
            
            // Validate required fields
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.style.borderColor = 'var(--error-red)';
                    field.classList.add('error');
                    isValid = false;
                } else {
                    field.style.borderColor = 'var(--border-light)';
                    field.classList.remove('error');
                }
            });
            
            if (!isValid) {
                showNotification('Please fill in all required fields.', 'error');
                trackEvent('form_validation_error', { form_type: 'appointment' });
                return;
            }
            
            // Show loading state
            LoadingStateManager.setLoading(button, true, 'Submitting...');
            
            // Track form submission attempt
            trackEvent(`submit_appointment_${serviceName}`, {
                urgency: formData.get('urgency') || 'normal',
                service_interest: formData.get('service-interest')
            });
            
            try {
                // Create appointment data object
                const appointmentData = {
                    name: formData.get('name'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    preferredDate: formData.get('preferred-date'),
                    preferredTime: formData.get('preferred-time'),
                    serviceInterest: formData.get('service-interest'),
                    urgency: formData.get('urgency'),
                    message: formData.get('message'),
                    source: `${serviceName}-page`,
                    timestamp: new Date().toISOString()
                };
                
                // Make API call with timeout
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout);
                
                const response = await fetch(API_CONFIG.bookAppointment, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(appointmentData),
                    signal: controller.signal
                });
                
                clearTimeout(timeoutId);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const result = await response.json();
                
                // Track successful submission
                trackEvent(`appointment_success_${serviceName}`, {
                    appointment_id: result.appointmentId,
                    urgency: appointmentData.urgency
                });
                
                showNotification(`Thank you, ${appointmentData.name}! Your appointment request has been received. We'll contact you within 1 hour to confirm your appointment.`, 'success');
                
                // Reset form
                form.reset();
                
                // Reset any custom selectors
                document.querySelectorAll('.urgency-option, .symptom-button').forEach(option => {
                    option.classList.remove('selected');
                    option.setAttribute('aria-checked', 'false');
                });
                
            } catch (error) {
                console.error('Appointment submission error:', error);
                
                // Track error
                trackEvent(`appointment_error_${serviceName}`, {
                    error_type: error.name,
                    error_message: error.message
                });
                
                if (error.name === 'AbortError') {
                    showNotification('Request timed out. Please check your connection and try again.', 'error');
                } else {
                    showNotification('Appointment submission failed. Please try again or call (555) 123-4567.', 'error');
                }
            } finally {
                LoadingStateManager.setLoading(button, false);
            }
        }

        // Enhanced notification system
        function showNotification(message, type = 'info') {
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());
            
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.setAttribute('data-type', type);
            notification.style.cssText = `
                position: fixed; 
                top: 20px; 
                right: 20px; 
                background: ${type === 'error' ? 'var(--error-red)' : 'var(--success-green)'}; 
                color: white; 
                padding: 1rem 2rem; 
                border-radius: 25px; 
                z-index: 10001;
                box-shadow: 0 4px 20px rgba(0,0,0,0.2);
                max-width: 350px;
                animation: slideIn 0.3s ease-out;
                font-family: inherit;
                font-weight: 500;
                line-height: 1.4;
                display: flex;
                align-items: center;
                gap: 10px;
            `;
            
            notification.textContent = message;
            notification.setAttribute('role', 'alert');
            notification.setAttribute('aria-live', 'assertive');
            
            document.body.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideOut 0.3s ease-in';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            document.body.removeChild(notification);
                        }
                    }, 300);
                }
            }, 5000);
        }

        // Initialize all CTA buttons with proper functionality
        function initializeCTAButtons() {
            const serviceName = document.querySelector('meta[name="service-name"]')?.content || 'unknown';
            
            document.querySelectorAll('.cta-button, .btn-primary, .btn-schedule, .btn-book, .appointment-btn, a[class*="button"]').forEach(button => {
                if (!button.hasAttribute('data-initialized')) {
                    button.setAttribute('data-initialized', 'true');
                    
                    button.addEventListener('click', async function(e) {
                        // Don't prevent default for external links
                        if (!this.href || this.href.startsWith('#') || this.href.includes(window.location.hostname)) {
                            e.preventDefault();
                        }
                        
                        const buttonText = this.textContent.toLowerCase();
                        const href = this.getAttribute('href');
                        
                        // Track button click
                        trackEvent(`click_service_cta_${serviceName}`, {
                            button_text: this.textContent,
                            button_location: this.closest('section')?.className || 'unknown'
                        });
                        
                        // Handle different button types
                        if (href && href.startsWith('#')) {
                            // Internal anchor link - scroll to section
                            const target = document.querySelector(href);
                            if (target) {
                                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                // Focus for accessibility
                                if (target.hasAttribute('tabindex') || target.querySelector('input, button')) {
                                    setTimeout(() => {
                                        const focusable = target.querySelector('input, button') || target;
                                        focusable.focus();
                                    }, 500);
                                }
                            }
                        } else if (buttonText.includes('schedule') || buttonText.includes('book') || buttonText.includes('appointment')) {
                            // Appointment booking button
                            const schedulerSection = document.querySelector('#scheduler, #appointment, .appointment-form, .booking-form');
                            if (schedulerSection) {
                                schedulerSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                setTimeout(() => {
                                    const firstInput = schedulerSection.querySelector('input');
                                    if (firstInput) firstInput.focus();
                                }, 500);
                            } else {
                                // If no scheduler section, go to appointment page
                                window.location.href = '/book-appointment.html';
                            }
                        } else if (buttonText.includes('call') || buttonText.includes('phone')) {
                            // Phone call button
                            window.location.href = 'tel:5551234567';
                        } else if (buttonText.includes('insurance')) {
                            // Insurance verification
                            await handleInsuranceVerification(this);
                        } else if (buttonText.includes('quote') || buttonText.includes('consultation')) {
                            // Quote/consultation request
                            await handleQuoteRequest(this);
                        }
                    });
                    
                    // Add touch event handling for mobile
                    button.addEventListener('touchstart', function() {
                        this.classList.add('touch-active');
                    });
                    
                    button.addEventListener('touchend', function() {
                        setTimeout(() => {
                            this.classList.remove('touch-active');
                        }, 300);
                    });
                }
            });
        }

        // Initialize phone links with tracking
        function initializePhoneLinks() {
            const serviceName = document.querySelector('meta[name="service-name"]')?.content || 'unknown';
            
            document.querySelectorAll('a[href^="tel:"]').forEach(link => {
                if (!link.hasAttribute('data-initialized')) {
                    link.setAttribute('data-initialized', 'true');
                    
                    link.addEventListener('click', function(e) {
                        // Track phone click
                        trackEvent(`click_phone_${serviceName}`, {
                            phone_location: this.closest('section')?.className || 'unknown',
                            is_emergency: this.classList.contains('emergency-phone')
                        });
                    });
                }
            });
        }

        // Initialize floating CTA button
        function initializeFloatingCTA() {
            const floatingCTA = document.querySelector('.floating-cta, .floating-btn, .sticky-cta');
            if (floatingCTA && !floatingCTA.hasAttribute('data-initialized')) {
                floatingCTA.setAttribute('data-initialized', 'true');
                
                // Add scroll-based visibility
                let lastScrollTop = 0;
                window.addEventListener('scroll', debounce(function() {
                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    
                    if (scrollTop > 300) {
                        floatingCTA.style.opacity = '1';
                        floatingCTA.style.transform = 'scale(1)';
                    } else {
                        floatingCTA.style.opacity = '0';
                        floatingCTA.style.transform = 'scale(0.8)';
                    }
                    
                    // Hide when scrolling down, show when scrolling up
                    if (scrollTop > lastScrollTop && scrollTop > 600) {
                        floatingCTA.style.transform = 'translateY(100px)';
                    } else {
                        floatingCTA.style.transform = 'translateY(0)';
                    }
                    
                    lastScrollTop = scrollTop;
                }, 100));
                
                // Add initial styles
                floatingCTA.style.transition = 'all 0.3s ease';
                floatingCTA.style.opacity = '0';
                floatingCTA.style.transform = 'scale(0.8)';
            }
        }

        // Handle insurance verification
        async function handleInsuranceVerification(button) {
            const serviceName = document.querySelector('meta[name="service-name"]')?.content || 'unknown';
            LoadingStateManager.setLoading(button, true, 'Verifying...');
            
            try {
                const response = await fetch(API_CONFIG.contact, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        type: 'insurance_verification',
                        source: `${serviceName}-page`,
                        timestamp: new Date().toISOString()
                    })
                });
                
                if (!response.ok) {
                    throw new Error('Verification failed');
                }
                
                trackEvent(`insurance_verification_success_${serviceName}`);
                showNotification('Insurance verification initiated! Our team will contact you within 30 minutes.', 'success');
                
            } catch (error) {
                trackEvent(`insurance_verification_error_${serviceName}`);
                showNotification('Unable to process verification. Please call (555) 123-4567.', 'error');
            } finally {
                LoadingStateManager.setLoading(button, false);
            }
        }

        // Handle quote/consultation requests
        async function handleQuoteRequest(button) {
            const serviceName = document.querySelector('meta[name="service-name"]')?.content || 'unknown';
            LoadingStateManager.setLoading(button, true, 'Processing...');
            
            try {
                const response = await fetch(API_CONFIG.contact, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        type: 'quote_request',
                        service: serviceName,
                        source: `${serviceName}-page`,
                        timestamp: new Date().toISOString()
                    })
                });
                
                if (!response.ok) {
                    throw new Error('Request failed');
                }
                
                trackEvent(`quote_request_success_${serviceName}`);
                showNotification('Quote request received! We\'ll email you a personalized quote within 2 hours.', 'success');
                
            } catch (error) {
                trackEvent(`quote_request_error_${serviceName}`);
                showNotification('Unable to process request. Please call (555) 123-4567.', 'error');
            } finally {
                LoadingStateManager.setLoading(button, false);
            }
        }

        // Initialize on DOM content loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all interactive elements
            initializeCTAButtons();
            initializePhoneLinks();
            initializeFloatingCTA();
            
            // Set minimum date for appointment inputs
            const today = new Date().toISOString().split('T')[0];
            document.querySelectorAll('input[type="date"]').forEach(input => {
                input.setAttribute('min', today);
            });
            
            // Initialize form submit handlers
            document.querySelectorAll('form').forEach(form => {
                // Check if it's an appointment form
                const hasAppointmentFields = form.querySelector('input[name="name"]') && 
                                            form.querySelector('input[name="email"]') &&
                                            form.querySelector('input[name="phone"]');
                
                if (hasAppointmentFields || form.classList.contains('appointment-form') || 
                    form.classList.contains('booking-form') || form.hasAttribute('data-appointment')) {
                    form.addEventListener('submit', submitAppointment);
                }
            });
            
            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });

        // Add CSS animations and button states
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            /* Loading state for buttons */
            button.loading, .loading {
                position: relative;
                color: transparent !important;
            }
            
            button.loading::after, .loading::after {
                content: '';
                position: absolute;
                width: 16px;
                height: 16px;
                top: 50%;
                left: 50%;
                margin-left: -8px;
                margin-top: -8px;
                border: 2px solid #ffffff;
                border-radius: 50%;
                border-top-color: transparent;
                animation: spin 0.8s linear infinite;
            }
            
            /* Touch active state for mobile */
            .touch-active {
                transform: scale(0.95);
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            }
            
            /* Success/Error states for form fields */
            input.success, select.success, textarea.success {
                border-color: #28A745 !important;
                background-color: rgba(40, 167, 69, 0.05);
            }
            
            input.error, select.error, textarea.error {
                border-color: #DC3545 !important;
                background-color: rgba(220, 53, 69, 0.05);
            }
            
            /* Notification improvements */
            .notification::before {
                content: '✓';
                font-size: 1.2rem;
                font-weight: bold;
            }
            
            .notification[data-type="error"]::before {
                content: '✕';
            }
            
            /* Focus visible improvements */
            :focus-visible {
                outline: 3px solid #0077BE;
                outline-offset: 2px;
            }
            
            /* Smooth transitions for all interactive elements */
            button, a, input, select, textarea {
                transition: all 0.2s ease;
            }
            
            /* Ensure buttons are clickable */
            button, .cta-button, .btn-primary, .btn-schedule {
                cursor: pointer;
                user-select: none;
            }
        `;
        document.head.appendChild(style);
    </script>

</body>
</html>